{% extends "base_main.html" %}

{% block title %}Learning Outcome Editor{% endblock %}
{% block banner_title %}Learning Outcome Editor{% endblock %}
{% block banner_subtitle %}Let's get started{% endblock %}
{% block content %}
<!-- Main layout -->
<div class="container-xl my-4">
  <div class="row g-4 align-items-start">

    <!-- LEFT: two rounded blue info blocks -->
    <aside class="col-12 col-lg-3">
      <div class="card bg-primary text-white rounded-4 text-center p-4 mb-4 border-0">
        <div class="fs-5 fw-semibold">Learning Outcomes<br>Information Set</div>
        <div class="small mt-2">Can contain link to Bloom’s Taxonomy Page</div>
      </div>
      <a href="{{ url_for('main.search_units') }}" class="text-decoration-none">
    <div class="card bg-primary text-white rounded-4 text-center p-4 border-0">
      <div class="fs-5 fw-semibold">Search and switch unit box</div>
    </div>
  </a>
    </aside>

  <!-- Table -->
    <section class="col-12 col-lg-6">
      <div class="bg-white rounded-4 p-3 border border-primary border-3">
        <div class="table-responsive">
          <table class="table table-bordered align-middle mb-0">
            <thead class="table-primary text-center">
              <tr>
                {% for heading in headings %}
                  <th scope="col" class="fw-semibold">{{ heading }}</th>
                {% endfor %}
              </tr>
            </thead>
            <tbody>
              {% for lo in outcomes %}
              <tr>
                <td class="text-center">{{ loop.index }}</td>
                <td>{{ lo.description }}</td>
                <td>{{ lo.assessment or '' }}</td>
                <td class="text-center">
      <form
        action="{{ url_for('main.lo_delete', lo_id=lo.id) }}"
              method="post"
        class="d-inline"
      >
      
        <button type="submit"
                class="btn btn-danger rounded-circle btn-sm"
                onclick="return confirm('Delete this outcome?');">&minus;</button>
      </form>
    </td>
                <td class="text-center text-success fs-5">⇅</td>
              </tr>
              {% else %}
              <tr><td colspan="5" class="text-center text-muted py-4">No outcomes yet.</td></tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
    </section>

    <!-- RIGHT: evaluation panel -->
    <aside class="col-12 col-lg-3">
      <div class="card bg-light text-primary rounded-4 p-5 text-center">
        <div class="fs-5 fw-semibold">Evaluation Section</div>
      </div>
    </aside>
  </div>

  <!-- Buttons -->
  <div class="d-flex flex-column flex-md-row justify-content-center gap-3 mt-4">
    <button class="btn btn-primary rounded-pill px-5 py-3 fw-semibold" type="button">Add Outcome</button>
    <button class="btn btn-warning rounded-pill px-5 py-3 fw-semibold text-dark" type="button">Evaluate</button>
    <button class="btn btn-primary rounded-pill px-5 py-3 fw-semibold" type="button">Export</button>
  </div>
</div>
{% endblock %}
